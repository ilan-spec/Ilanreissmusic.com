<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilan Reiss Music Player</title>
    
    <!-- Font Awesome for the music icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- All CSS is now inside the HTML file --><style>
        /* Import a clean font, 'VT323' for a retro feel or 'Inter' for clean */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            color: #000;
            /* Classic Windows teal background */
            background: #008080;
            overflow: hidden; /* Prevents scrollbars */
            height: 100vh;
        }

        /* --- Player UI (Old Computer Style) --- */
        
        .player-container {
            display: flex;
            flex-direction: column;
            width: 90%;
            max-width: 600px; /* Slightly smaller */
            height: 70vh;
            max-height: 550px;
            
            /* Classic Windows grey */
            background: #c0c0c0;
            
            /* Classic 3D border */
            border-top: 2px solid #fff;
            border-left: 2px solid #fff;
            border-right: 2px solid #404040;
            border-bottom: 2px solid #404040;
            box-shadow: 1px 1px 0 1px #000;
            
            position: absolute;
            /* Cursors will be managed by JS */
        }

        /* The title bar of the player */
        .title-bar {
            padding: 5px 8px;
            font-weight: 700;
            font-size: 1rem;
            color: #fff; 
            /* Classic Windows active title bar */
            background: linear-gradient(to right, #000080, #1084d0);
            cursor: move; /* Indicates this is draggable */
            user-select: none; /* Prevents text selection while dragging */
            -webkit-user-select: none; /* Safari */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .content {
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex-grow: 1; /* Makes content fill the space */
            overflow: hidden; /* Prevents internal scrolling */
            border-top: 1px solid #808080;
        }

        /* --- Search Bar Style --- */
        #search-bar {
            width: 100%;
            padding: 8px 10px;
            /* Classic inset border */
            border: 2px inset #808080;
            border-top-color: #404040;
            border-left-color: #404040;
            border-right-color: #fff;
            border-bottom-color: #fff;
            background: #fff;
            color: #000;
            font-size: 1rem;
            font-weight: 500;
            outline: none;
        }

        #search-bar::placeholder {
            color: #808080;
        }

        /* The scrollable file list */
        .file-browser {
            background: #fff;
            /* Classic inset border */
            border: 2px inset #808080;
            border-top-color: #404040;
            border-left-color: #404040;
            border-right-color: #fff;
            border-bottom-color: #fff;
            padding: 10px;
            flex-grow: 1; 
            overflow-y: auto; /* Adds the scrollbar! */
        }

        #file-list {
            list-style-type: none;
            display: grid; /* Use CSS Grid for the icon layout */
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* Auto-responsive columns */
            gap: 15px; /* Space between icons */
        }

        #file-list li {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px 5px;
            border-radius: 0;
            cursor: pointer;
            transition: none; /* Remove transitions */
            font-size: 0.85rem;
            font-weight: 500;
            text-align: center;
            color: #000; /* Text color black */
            background: transparent;
            border: 1px solid transparent; /* For focus */
            height: 100px; /* Fixed height for square look */
        }
        
        #file-list li:hover {
            /* No hover effect, handled by active */
            background: transparent;
        }

        /* The icon part */
        #file-list li .file-icon {
            font-size: 2.5rem; /* Large icon */
            color: #000080; /* Dark Blue */
            margin-bottom: 8px;
            text-shadow: none;
        }

        /* Make icon white on active */
        #file-list li.active .file-icon {
            color: #ffffff;
        }

        /* The file name text */
        #file-list li .file-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%; /* Ensure text ellipsis works */
            color: #000; /* Black text */
            padding: 2px 4px; /* Give text a background on active */
        }

        /* This class is added by JavaScript to the playing track */
        #file-list li.active {
            background: #000080; /* Dark blue background */
            color: #fff; /* White text */
        }
        
        #file-list li.active .file-name {
             color: #fff;
        }

        .player {
            flex-shrink: 0; /* Prevents this section from shrinking */
        }

        #now-playing {
            display: block;
            font-size: 1rem;
            font-weight: 600;
            color: #000; /* Black text */
            margin-bottom: 10px;
            padding: 5px;
            /* Fade text if too long */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* The audio player itself */
        #audio-player {
            width: 100%;
        }

        /* Custom scrollbar to match the look (simple) */
        ::-webkit-scrollbar {
            width: 16px;
            background: #c0c0c0;
        }
        ::-webkit-scrollbar-track {
            background: #c0c0c0;
        }
        ::-webkit-scrollbar-thumb {
            background: #c0c0c0;
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            border-right: 1px solid #404040;
            border-bottom: 1px solid #404040;
        }
    </style>
</head>
<body>

    <!-- No more cloud container -->

    <!-- The "Old Computer" Player --><div class="player-container">
        <div class="title-bar">
            <span>ðŸŽµ Ilan Reiss Music Player</span>
            <!-- Can add minimize/maximize/close buttons here later if needed -->
        </div>
        
        <div class="content">
            <div class="player">
                <span id="now-playing">Select a track to play</span>
                
                <!-- This is the ACTUAL audio player. 
                     'controls' adds the play/pause/volume. 
                     'crossorigin' is NOT needed anymore since visualization is removed. --><audio id="audio-player" controls></audio>
            </div>
            
            <!-- --- Search Bar HTML --- -->
            <input type="text" id="search-bar" placeholder="Search tracks...">

            <div class="file-browser">
                <!-- Your JavaScript will automatically fill this list --><ul id="file-list">
                    <!-- The list of files will appear here --></ul>
            </div>
        </div>
    </div>


    <!-- All JavaScript is now inside the HTML file --><script>
        // This function runs once the entire HTML page has loaded
        document.addEventListener('DOMContentLoaded', () => {

            // THIS IS YOUR LIST OF AUDIO FILES
            const audioFiles = [
                "2 part shit.mp3", "42 cent.mp3", "67.mp3", "808 beat sample.mp3",
                "a break.mp3", "all me.mp3", "another one.mp3", "asher organ.mp3",
                "ass with potench.mp3", "bad one.mp3", "been a minu.mp3", "beeps.mp3",
                "before my set.mp3", "before you go.mp3", "black airforces.mp3",
                "bubs final.mp3", "bubs.mp3", "buds.mp3", "bullshittin.mp3",
                "candy shack.mp3", "chicos.mp3", "chilled.mp3", "com 303 sh.mp3",
                "corp. rework.mp3", "corp..mp3", "cya.mp3", "cypher chopped.mp3",
                "danklin.mp3", "day ones.mp3", "day today .mp3", "delete this track.mp3",
                "dub w.mp3", "easter.mp3", "ff.mp3", "flip.mp3", "fly guy.mp3",
                "for it.mp3", "for the car.mp3", "fridays.mp3", "fuckin idk.mp3",
                "funky.mp3", "gallery lazy break.mp3", "gallery.mp3", "giving in.mp3",
                "go 2.mp3", "goin crazy wit 10 racks.mp3", "goin crazy with 10 racks.mp3",
                "golf soundscape.mp3", "gover.mp3", "grizzlies ART.mp3", "grizzlies.mp3",
                "half life beat.mp3", "hammer down.mp3", "have it.mp3", "have to save.mp3",
                "hit the cart.mp3", "House on plane.mp3", "huh.mp3", "hyper fix.mp3",
                "i wanna.mp3", "insanity.mp3", "is ass.mp3", "jungled.mp3", "kenny.mp3",
                "kirked.mp3", "last of day.mp3", "lastly.mp3", "late.mp3", "lib beat.mp3",
                "locked.mp3", "lost it unfinished.mp3", "lyra demo.mp3", "ma.mp3",
                "making progress thru.mp3", "making progress.mp3", "mini 808.mp3",
                "MPC iPhone beat.mp3", "my amigo.mp3", "my sound scape.mp3",
                "new jersey club.mp3", "new setup.mp3", "niko again .mp3",
                "niko again unfinished.mp3", "niko is talking.mp3", "not done beat.mp3",
                "not thru.mp3", "not trash.mp3", "null.mp3", "number 3 shit.mp3",
                "On plane shiz.mp3", "postd.mp3", "practice.mp3", "quiky.mp3",
                "rabbits.mp3", "read up.mp3", "recipe.mp3", "redo.mp3", "reggae.mp3",
                "reggetons.mp3", "Reiss_Soundscape_edit.mp3", "Reiss_soundscape_raw.mp3",
                "rick poppa.mp3", "rythm.mp3", "same goal.mp3", "saturday morning.mp3",
                "saturn.mp3", "save rq.mp3", "saved it.mp3", "serup.mp3",
                "shit is trash.mp3", "shortest beat.mp3", "show class.mp3",
                "show trash.mp3", "slash slowed.mp3", "slash.mp3", "slow jam 2.mp3",
                "slow ride.mp3", "snippes.mp3", "soundbath 2.mp3", "soundbath.mp3",
                "SP iPhone sample.mp3", "spit it out.mp3", "standing in the rain.mp3",
                "starterd.mp3", "sue nami.mp3", "surfin.mp3", "swang.mp3",
                "swing song w eli.mp3", "synth demo.mp3", "take 2.mp3", "techno.mp3",
                "that way.mp3", "the monitor.mp3", "the worst beat ever.mp3",
                "this again.mp3", "threw together.mp3", "throw it up.mp3",
                "thursday.mp3", "trios.mp3", "trump-pets.mp3", "un house.mp3",
                "w issy.mp3", "watch it go.mp3", "week from today.mp3",
                "what am i doing.mp3", "what is this.mp3", "z style.mp3"
            ];

            // Get references to the HTML elements
            const fileListElement = document.getElementById('file-list');
            const audioPlayer = document.getElementById('audio-player');
            const nowPlayingElement = document.getElementById('now-playing');
            
            // --- Get elements for draggable window ---
            const playerContainer = document.querySelector('.player-container');
            const titleBar = document.querySelector('.title-bar');

            // --- Get new search bar element ---
            const searchBar = document.getElementById('search-bar');

            // --- 0. Set Initial Window Position ---
            // Center the window on load
            playerContainer.style.left = (window.innerWidth - playerContainer.offsetWidth) / 2 + 'px';
            playerContainer.style.top = (window.innerHeight - playerContainer.offsetHeight) / 2 + 'px';

            // --- 1. Populate the File List ---
            audioFiles.forEach(file => {
                const li = document.createElement('li');
                
                // Add the icon
                const icon = document.createElement('i');
                icon.classList.add('fas', 'fa-music', 'file-icon'); // Font Awesome music icon
                li.appendChild(icon);

                // Add the filename
                const fileNameSpan = document.createElement('span');
                fileNameSpan.classList.add('file-name');
                fileNameSpan.textContent = file.replace('.mp3', ''); // Clean name
                li.appendChild(fileNameSpan);

                li.dataset.filename = file; // Full name for playback
                fileListElement.appendChild(li);
            });

            // --- 2. Handle Clicks on the File List ---
            fileListElement.addEventListener('click', (event) => {
                // Find the closest list item (<li>) to what was clicked
                const clickedLi = event.target.closest('li');

                if (clickedLi) { // Make sure a list item was actually clicked
                    const filename = clickedLi.dataset.filename;

                    // --- THIS IS THE MOST IMPORTANT PART (FIXED) ---
                    // Set the audio player's source to the file *inside the 'Audio' folder*
                    audioPlayer.src = 'Audio/' + filename;
                    // -------------------------------------
                    
                    // Play the audio
                    audioPlayer.play();

                    // Update the "Now Playing" text
                    nowPlayingElement.textContent = clickedLi.querySelector('.file-name').textContent; // Use the text from the span

                    // Manage the 'active' class for styling
                    const currentActive = fileListElement.querySelector('.active');
                    if (currentActive) {
                        currentActive.classList.remove('active');
                    }
                    clickedLi.classList.add('active');
                }
            });

            // --- 3. Make Window Draggable ---
            let isDragging = false;
            let offsetX, offsetY;

            titleBar.addEventListener('mousedown', (e) => {
                isDragging = true;
                
                // Calculate offset from top-left corner of the window
                offsetX = e.clientX - playerContainer.offsetLeft;
                offsetY = e.clientY - playerContainer.offsetTop;

                // Change cursor style
                playerContainer.style.cursor = 'move';
                // Prevent text selection weirdness
                e.preventDefault();
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                playerContainer.style.cursor = 'default';
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;

                let newX = e.clientX - offsetX;
                let newY = e.clientY - offsetY;

                // Constrain window to viewport
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                const windowWidth = playerContainer.offsetWidth;
                const windowHeight = playerContainer.offsetHeight;

                if (newX < 0) newX = 0; // Left edge
                if (newY < 0) newY = 0; // Top edge
                if (newX + windowWidth > viewportWidth) newX = viewportWidth - windowWidth; // Right edge
                if (newY + windowHeight > viewportHeight) newY = viewportHeight - windowHeight; // Bottom edge

                playerContainer.style.left = newX + 'px';
                playerContainer.style.top = newY + 'px';
            });

            // --- 4. Add Search Bar Functionality ---
            searchBar.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const allFiles = fileListElement.querySelectorAll('li');

                allFiles.forEach(fileLi => {
                    const fileName = fileLi.querySelector('.file-name').textContent.toLowerCase();
                    if (fileName.includes(searchTerm)) {
                        fileLi.style.display = 'flex'; // Show matching files
                    } else {
                        fileLi.style.display = 'none'; // Hide non-matching files
                    }
                });
            });

            // --- 5. Auto-play next track ---
            audioPlayer.addEventListener('ended', () => {
                const currentActive = fileListElement.querySelector('.active');
                if (currentActive) {
                    const nextSibling = currentActive.nextElementSibling;
                    if (nextSibling && nextSibling.tagName === 'LI') { // Ensure it's a valid LI
                        nextSibling.click(); // Programmatically click the next track
                    } else {
                        // If no next track, maybe go back to the first one or just stop
                        nowPlayingElement.textContent = "Select a track to play";
                        currentActive.classList.remove('active');
                    }
                }
            });

        });
    </script>
</body>
</html>

