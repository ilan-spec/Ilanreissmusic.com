<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Desktop Audio Player</title>
    <!-- Tailwind CSS for basic styling --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            /* Windows 7 default wallpaper gradient */
            background: linear-gradient(135deg, #0078d7, #00c6ff, #92f5c2);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow: hidden; /* Prevent body scroll if windows go off-screen */
            height: 100vh; /* Ensure body takes full viewport height */
            margin: 0;
            padding: 0;
            user-select: none; /* Prevent text selection during drag */
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Base window style (Glass effect) */
        .window {
            position: absolute; /* Allows dragging */
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 8px; /* Slightly smaller radius for more OS feel */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            min-width: 250px;
            min-height: 200px;
            resize: both; /* Allow resizing */
            z-index: 10; /* Base z-index */
            cursor: default; /* Default cursor for window body */
        }
        .window.active {
            z-index: 20; /* Bring active window to front */
        }

        /* Title bar for dragging */
        .window-title-bar {
            background: rgba(255, 255, 255, 0.3);
            padding: 0.5rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.18);
            font-weight: 600;
            color: #1a1a1a;
            text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);
            cursor: grab; /* Indicates draggable */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .window-title-bar:active {
            cursor: grabbing;
        }

        /* Window controls (minimize, maximize, close - mostly visual for now) */
        .window-controls button {
            background: rgba(255, 255, 255, 0.4);
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 4px;
            margin-left: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            line-height: 1;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }
        .window-controls button:hover {
            background: rgba(255, 255, 255, 0.6);
        }
        .window-controls button.close-btn:hover {
            background: #ff5555;
            color: white;
        }

        /* Content area inside the window */
        .window-content {
            flex-grow: 1;
            padding: 1rem;
            overflow: auto; /* Allow content to scroll if window is small */
            display: flex;
            flex-direction: column;
        }

        /* Custom scrollbar for file list */
        .file-list::-webkit-scrollbar {
            width: 8px;
        }
        .file-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .file-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 10px;
        }
        .file-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.6);
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-gray-700 p-2.5 rounded-md cursor-pointer transition-all duration-150 hover:bg-white/50;
        }
        .file-item.active {
            background: rgba(0, 120, 215, 0.7);
            color: white;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .file-item svg {
            color: rgba(0,0,0,0.4); /* Icon color */
        }
        .file-item.active svg {
            color: white; /* Icon color when active */
        }

        /* Styling for the audio player in its window */
        #audio-player-window .window-content {
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>

    <!-- Taskbar (simple, visual only for now) --><div class="fixed bottom-0 left-0 w-full h-10 bg-gradient-to-b from-blue-700 to-blue-900 border-t border-blue-950 flex items-center px-4 z-50">
        <span class="text-white text-sm font-semibold">Start</span>
    </div>

    <!-- Window 1: File Browser --><div id="file-browser-window" class="window" style="left: 50px; top: 50px; width: 450px; height: 500px;">
        <div class="window-title-bar" data-window-id="file-browser-window">
            <span>My Audio Files</span>
            <div class="window-controls">
                <button title="Minimize" onclick="toggleMinimize('file-browser-window')">—</button>
                <button title="Maximize" onclick="toggleMaximize('file-browser-window')">▢</button>
                <button title="Close" class="close-btn" onclick="closeWindow('file-browser-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <h2 class="text-lg font-semibold mb-2 text-gray-800 px-1">Browse and Play</h2>
            <div id="file-browser" class="file-list flex-grow overflow-y-auto pr-1 space-y-1">
                <!-- File items will be added here by JavaScript --></div>
        </div>
    </div>

    <!-- Window 2: Audio Player --><div id="audio-player-window" class="window" style="left: 550px; top: 100px; width: 400px; height: 350px;">
        <div class="window-title-bar" data-window-id="audio-player-window">
            <span>Now Playing</span>
            <div class="window-controls">
                <button title="Minimize" onclick="toggleMinimize('audio-player-window')">—</button>
                <button title="Maximize" onclick="toggleMaximize('audio-player-window')">▢</button>
                <button title="Close" class="close-btn" onclick="closeWindow('audio-player-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <!-- Placeholder for Album Art --><div class="w-32 h-32 bg-white/30 rounded-lg shadow-lg flex items-center justify-center mb-4">
                <svg class="w-16 h-16 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"></path></svg>
            </div>

            <!-- This text will show the name of the file playing --><div id="now-playing-file" class="text-md font-semibold text-gray-800 mb-4 h-6 text-center">
                Select a file to play
            </div>

            <audio id="audio-player" controls class="w-full rounded-lg shadow-md"></audio>
        </div>
    </div>

    <script>
        // --- YOUR AUDIO FILE LIST (SAME AS BEFORE) ---
        const audioFiles = [
            "2 part shit.mp3", "42 cent.mp3", "67.mp3", "808 beat sample.mp3", "a break.mp3", "all me.mp3", "another one.mp3", "asher organ.mp3", "ass with potench.mp3", "bad one.mp3", "been a minu.mp3", "beeps.mp3", "before my set.mp3", "before you go.mp3", "black airforces.mp3", "bubs final.mp3", "bubs.mp3", "buds.mp3", "bullshittin.mp3", "candy shack.mp3", "chicos.mp3", "chilled.mp3", "com 303 sh.mp3", "corp. rework.mp3", "corp..mp3", "cya.mp3", "cypher chopped.mp3", "danklin.mp3", "day ones.mp3", "day today .mp3", "delete this track.mp3", "dub w.mp3", "easter.mp3", "ff.mp3", "flip.mp3", "fly guy.mp3", "for it.mp3", "for the car.mp3", "fridays.mp3", "fuckin idk.mp3", "funky.mp3", "gallery lazy break.mp3", "gallery.mp3", "giving in.mp3", "go 2.mp3", "goin crazy wit 10 racks.mp3", "goin crazy with 10 racks.mp3", "golf soundscape.mp3", "gover.mp3", "grizzlies ART.mp3", "grizzlies.mp3", "half life beat.mp3", "hammer down.mp3", "have it.mp3", "have to save.mp3", "hit the cart.mp3", "House on plane.mp3", "huh.mp3", "hyper fix.mp3", "i wanna.mp3", "insanity.mp3", "is ass.mp3", "jungled.mp3", "kenny.mp3", "kirked.mp3", "last of day.mp3", "lastly.mp3", "late.mp3", "lib beat.mp3", "locked.mp3", "lost it unfinished.mp3", "lyra demo.mp3", "ma.mp3", "making progress thru.mp3", "making progress.mp3", "mini 808.mp3", "MPC iPhone beat.mp3", "my amigo.mp3", "my sound scape.mp3", "new jersey club.mp3", "new setup.mp3", "niko again .mp3", "niko again unfinished.mp3", "niko is talking.mp3", "not done beat.mp3", "not thru.mp3", "not trash.mp3", "null.mp3", "number 3 shit.mp3", "On plane shiz.mp3", "postd.mp3", "practice.mp3", "quiky.mp3", "rabbits.mp3", "read up.mp3", "recipe.mp3", "redo.mp3", "reggae.mp3", "reggetons.mp3", "Reiss_Soundscape_edit.mp3", "Reiss_soundscape_raw.mp3", "rick poppa.mp3", "rythm.mp3", "same goal.mp3", "saturday morning.mp3", "saturn.mp3", "save rq.mp3", "saved it.mp3", "serup.mp3", "shit is trash.mp3", "shortest beat.mp3", "show class.mp3", "show trash.mp3", "slash slowed.mp3", "slash.mp3", "slow jam 2.mp3", "slow ride.mp3", "snippes.mp3", "soundbath 2.mp3", "soundbath.mp3", "SP iPhone sample.mp3", "spit it out.mp3", "standing in the rain.mp3", "starterd.mp3", "sue nami.mp3", "surfin.mp3", "swang.mp3", "swing song w eli.mp3", "synth demo.mp3", "take 2.mp3", "techno.mp3", "that way.mp3", "the monitor.mp3", "the worst beat ever.mp3", "this again.mp3", "threw together.mp3", "throw it up.mp3", "thursday.mp3", "trios.mp3", "trump-pets.mp3", "un house.mp3", "w issy.mp3", "watch it go.mp3", "week from today.mp3", "what am i doing.mp3", "what is this.mp3", "z style.mp3"
        ];
        
        const fileBrowser = document.getElementById('file-browser');
        const audioPlayer = document.getElementById('audio-player');
        const nowPlayingFile = document.getElementById('now-playing-file');
        let currentActiveElement = null;
        let highestZIndex = 10; // Keep track of the highest z-index for bringing windows to front

        document.addEventListener('DOMContentLoaded', () => {
            // Populate file browser
            audioFiles.forEach(fileName => {
                const fileElement = document.createElement('div');
                fileElement.className = 'file-item text-gray-700 p-2.5 rounded-md cursor-pointer transition-all duration-150 hover:bg-white/50';
                fileElement.innerHTML = `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 00-1-1h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                    <span>${fileName}</span>
                `;
                fileElement.addEventListener('click', () => {
                    playFile(fileName, fileElement);
                });
                fileBrowser.appendChild(fileElement);
            });

            // Initialize window dragging and z-index management
            document.querySelectorAll('.window').forEach(windowElem => {
                const titleBar = windowElem.querySelector('.window-title-bar');
                let isDragging = false;
                let offset = { x: 0, y: 0 };

                // Bring window to front on click
                windowElem.addEventListener('mousedown', () => {
                    bringWindowToFront(windowElem);
                });

                // Start dragging
                titleBar.addEventListener('mousedown', (e) => {
                    e.preventDefault(); // Prevent text selection
                    isDragging = true;
                    offset = {
                        x: e.clientX - windowElem.offsetLeft,
                        y: e.clientY - windowElem.offsetTop
                    };
                    titleBar.style.cursor = 'grabbing';
                    windowElem.classList.add('active'); // Add active class on drag
                });

                // Dragging
                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    let newX = e.clientX - offset.x;
                    let newY = e.clientY - offset.y;

                    // Keep window within viewport (optional, can remove if you want windows to go off screen)
                    newX = Math.max(0, Math.min(newX, window.innerWidth - windowElem.offsetWidth));
                    newY = Math.max(0, Math.min(newY, window.innerHeight - windowElem.offsetHeight - 40)); // Account for taskbar

                    windowElem.style.left = newX + 'px';
                    windowElem.style.top = newY + 'px';
                });

                // Stop dragging
                document.addEventListener('mouseup', () => {
                    isDragging = false;
                    titleBar.style.cursor = 'grab';
                    // windowElem.classList.remove('active'); // Remove active class when done dragging
                });
            });

            // Set initial z-indexes based on order in HTML or desired starting stack
            bringWindowToFront(document.getElementById('audio-player-window')); // Player on top initially
            bringWindowToFront(document.getElementById('file-browser-window')); // Then file browser
        });

        function bringWindowToFront(windowElem) {
            highestZIndex++;
            windowElem.style.zIndex = highestZIndex;

            // Remove 'active' class from all other windows
            document.querySelectorAll('.window').forEach(w => {
                w.classList.remove('active');
            });
            // Add 'active' class to the clicked window
            windowElem.classList.add('active');
        }

        function playFile(fileName, element) {
            audioPlayer.src = 'audio/' + fileName;
            audioPlayer.play();
            nowPlayingFile.textContent = fileName;
            
            if (currentActiveElement) {
                currentActiveElement.classList.remove('active');
            }
            element.classList.add('active');
            currentActiveElement = element;

            // Bring the audio player window to the front when a file is played
            bringWindowToFront(document.getElementById('audio-player-window'));
        }

        // --- Window Control Functions (minimize, maximize, close) ---
        // For now, these are simple visual changes. Full functionality
        // (like taskbar integration for minimize) would be more complex.

        function toggleMinimize(windowId) {
            const windowElem = document.getElementById(windowId);
            if (windowElem.style.display !== 'none') {
                windowElem.dataset.originalPos = windowElem.style.cssText; // Save original position/size
                windowElem.style.display = 'none'; // Hide the window
                // In a real OS, this would send it to the taskbar
            } else {
                if (windowElem.dataset.originalPos) {
                    windowElem.style.cssText = windowElem.dataset.originalPos; // Restore
                } else {
                    windowElem.style.display = 'flex'; // Just show it
                }
                bringWindowToFront(windowElem);
            }
        }

        function toggleMaximize(windowId) {
            const windowElem = document.getElementById(windowId);
            if (!windowElem.classList.contains('maximized')) {
                windowElem.dataset.originalPos = windowElem.style.cssText; // Save original state
                windowElem.style.left = '0px';
                windowElem.style.top = '0px';
                windowElem.style.width = '100vw';
                windowElem.style.height = 'calc(100vh - 40px)'; // Account for taskbar
                windowElem.style.borderRadius = '0'; // No rounded corners when maximized
                windowElem.classList.add('maximized');
            } else {
                windowElem.style.cssText = windowElem.dataset.originalPos; // Restore
                windowElem.classList.remove('maximized');
            }
            bringWindowToFront(windowElem);
        }

        function closeWindow(windowId) {
            const windowElem = document.getElementById(windowId);
            windowElem.remove(); // Simply remove the window from the DOM
            // In a real OS, this might just hide it or truly close the application process
        }
    </script>
</body>
</html>

